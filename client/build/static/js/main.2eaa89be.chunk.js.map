{"version":3,"sources":["store/store.tsx","store/helpers.tsx","pages/login-page/login-page.tsx","components/text-container/text-container.tsx","components/message/message.tsx","components/messages/messages.tsx","pages/room-page/room-page.tsx","App.tsx","index.tsx","icons/onlineIcon.png"],"names":["createStore","users","userName","room","rooms","storeContext","React","createContext","StoreProvider","children","store","useLocalStore","Provider","value","LoginPage","observer","useContext","Error","useStore","useState","name","setName","setRoom","className","placeholder","type","onChange","event","target","onClick","preventDefault","to","TextContainer","role","aria-label","map","key","alt","src","onlineIcon","Message","message","text","user","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","i","socket","io","Chat","match","setUsers","setMessages","flag","setFlag","useEffect","params","emit","error","alert","on","App","path","component","RoomPage","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.2eaa89be.chunk.js","sourcesContent":["export function createStore() {\n  return {\n    users: [{\n      userName: \"Jane\",\n      room: \"JS\",\n    },\n    {\n      userName: \"Mark\",\n      room: \"JS\",\n    }],\n    rooms: ['JS', 'PHP']\n  }\n}\n\nexport type TStore = ReturnType<typeof createStore>;\n","import React, { ReactNode } from \"react\";\nimport { createStore, TStore } from \"store/store\";\nimport { useLocalStore } from \"mobx-react\";\n\ninterface IProps {\n    children: ReactNode;\n}\n\nconst storeContext = React.createContext<TStore | null>(null);\n\nexport const StoreProvider = ({ children }: IProps) => {\n  const store = useLocalStore(createStore);\n  return (\n    <storeContext.Provider value={store}>{children}</storeContext.Provider>\n  );\n};\n\nexport const useStore = () => {\n  const store = React.useContext(storeContext);\n  if (!store) {\n    throw new Error(\"useStore must be used within a StoreProvider.\");\n  }\n  return store;\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport { useStore } from \"store/helpers\";\n\nimport 'pages/login-page/login-page.css';\n\nconst LoginPage: React.FC = observer(() => {\n  const store = useStore();\n\n  const [name, setName] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n\n  return (\n    <div className=\"joinOuterContainer\">\n      <div className=\"joinInnerContainer\">\n        <h1 className=\"heading\">Join</h1>\n        <div>\n          <input\n            placeholder=\"Name\"\n            className=\"joinInput\"\n            type=\"text\"\n            onChange={(event) => setName(event.target.value)}\n          />\n        </div>\n        <div>\n          <input\n            placeholder=\"Room\"\n            className=\"joinInput mt-20\"\n            type=\"text\"\n            onChange={(event) => setRoom(event.target.value)}\n          />\n        </div>\n        <Link\n          onClick={(event) => (!name || !room ? event.preventDefault() : null)}\n          to={`/chat?name=${name}&room=${room}`}\n        >\n          <button className={\"button mt-20\"} type=\"submit\">\n            Sign In\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n});\n\nexport default LoginPage;\n","import React from 'react';\n\nimport onlineIcon from 'icons/onlineIcon.png';\nimport { TUsers } from 'types/users';\n\nimport 'components/text-container/text-container.css';\n\ntype Props = {\n  users: TUsers;\n}\n\nconst TextContainer = ({ users }: Props) => (\n  <div className=\"textContainer\">\n    <div>\n      <h1>Welcome to Insta Meet <span role=\"img\" aria-label=\"emoji\">üí¨</span></h1>\n      <h2>Created by and for People <span role=\"img\" aria-label=\"emoji\">‚ù§Ô∏è</span></h2>\n      <h2>Try it out right now! <span role=\"img\" aria-label=\"emoji\">‚¨ÖÔ∏è</span></h2>\n    </div>\n    {\n      users\n        ? (\n          <div>\n            <h1>People currently chatting:</h1>\n            <div className=\"activeContainer\">\n              <h2>\n                {users.map(({name}) => (\n                  <div key={name} className=\"activeItem\">\n                    {name}\n                    <img alt=\"Online Icon\" src={onlineIcon}/>\n                  </div>\n                ))}\n              </h2>\n            </div>\n          </div>\n        )\n        : null\n    }\n  </div>\n);\n\nexport default TextContainer;\n","import React from \"react\";\n// @ts-ignore\nimport ReactEmoji from \"react-emoji\";\n\nimport \"components/message/message.css\";\nimport { TMessage } from \"types/users\";\n\ntype Props = {\n  message: TMessage;\n  name: string;\n};\n\nconst Message = ({ message: { text, user }, name }: Props) => {\n  let isSentByCurrentUser = false;\n\n  const trimmedName = name.trim().toLowerCase();\n\n  if (user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd\">\n      <p className=\"sentText pr-10\">{trimmedName}</p>\n      <div className=\"messageBox backgroundBlue\">\n        <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n      </div>\n    </div>\n  ) : (\n    <div className=\"messageContainer justifyStart\">\n      <div className=\"messageBox backgroundLight\">\n        <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n      </div>\n      <p className=\"sentText pl-10 \">{user}</p>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\n// @ts-ignore\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport Message from \"components/message/message\";\nimport { TMessage, TMessages } from \"types/users\";\n\nimport \"components/messages/messages.css\";\n\ntype Props = {\n  messages: TMessages;\n  name: string;\n};\n\nconst Messages = ({ messages, name }: Props) => (\n  <ScrollToBottom className=\"messages\">\n    {messages.map((message: TMessage, i: number) => (\n      <div key={i}>\n        <Message message={message} name={name} />\n      </div>\n    ))}\n  </ScrollToBottom>\n);\n\nexport default Messages;\n","import React, { useState, useEffect } from \"react\";\nimport { RouteComponentProps } from 'react-router';\nimport io from \"socket.io-client\";\nimport { Redirect } from 'react-router';\n\nimport TextContainer from 'components/text-container/text-container';\nimport Messages from 'components/messages/messages';\n// import InfoBar from 'components/InfoBar/InfoBar';\n// import Input from 'components/Input/Input';\nimport { TUsers, TRoomData, TMessages, TMessage } from \"types/users\";\n\nimport 'pages/room-page/room-page.css';\n\ninterface MatchParams {\n  name: string;\n  room: string;\n}\n\ninterface IProps extends RouteComponentProps<MatchParams> {\n}\n\nconst SOCKET_IO_URL = \"http://localhost:3000\";\nconst socket = io(SOCKET_IO_URL);\n\nconst Chat = ({ match }: IProps) => {\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n  const [users, setUsers] = useState<TUsers>([]);\n  const [message, setMessage] = useState<TMessage>();\n  const [messages, setMessages] = useState<TMessages>([]);\n  const [flag, setFlag]=useState(0);\n\n  useEffect(() => {\n    const { name, room } = match.params;\n\n    setRoom(room);\n    setName(name)\n\n    socket.emit('join', { name, room }, (error: string) => {\n      if(error) { \n        setFlag(1);\n        alert(error);\n      }\n    });\n  }, [match.params]); //, [SOCKET_IO_URL, match.params] <- –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä???\n  \n  useEffect(() => {\n    socket.on('message', (message: TMessage) => {\n      setMessages(messages => [ ...messages, message ]);\n    });\n    \n    socket.on(\"roomData\", ({ users }: TRoomData) => {\n      setUsers(users);\n    });\n}, []);\n\n  // const sendMessage = (event) => {\n  //   event.preventDefault();\n\n  //   if(message) {\n  //     socket.emit('sendMessage', message, () => setMessage(''));\n  //   }\n  // }\n\n    if (flag){\n      return (\n        <Redirect to=\"/\" />\n      )\n    }\n\n  return (\n    <div className=\"outerContainer\">\n      <div className=\"container\">\n          {/* <InfoBar room={room} /> */}\n          <Messages messages={messages} name={name} />\n          {/* <Input message={message} setMessage={setMessage} sendMessage={sendMessage} /> */}\n      </div>\n      <TextContainer users={users}/>\n    </div>\n  );\n}\n\nexport default Chat;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { StoreProvider } from \"store/helpers\";\nimport LoginPage from \"pages/login-page/login-page\";\nimport RoomPage from \"pages/room-page/room-page\";\n\nconst App = () => (\n  <StoreProvider>\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/room\" component={RoomPage}></Route>\n        <Route path=\"/\" component={LoginPage}></Route>\n      </Switch>\n    </BrowserRouter>\n  </StoreProvider>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'App';\n\nimport 'index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\""],"sourceRoot":""}